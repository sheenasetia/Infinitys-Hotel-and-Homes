(this.webpackJsonphotel_website=this.webpackJsonphotel_website||[]).push([[0],{27:function(e,t,a){},35:function(e,t,a){e.exports=a(84)},40:function(e,t,a){},42:function(e,t,a){},49:function(e,t,a){},73:function(e,t,a){},80:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),l=a.n(o),c=(a(40),a(2)),i=a.n(c),s=a(10),u=a(3),m=a(4),d=a(6),p=a(5),h=a(1),g=a(7),E=(a(17),a(9)),b=a(15),f=(a(42),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light fixed-top"},r.a.createElement("nav",null),r.a.createElement(E.b,{className:"navbar-brand",to:"/"},"INFINITY Hotel And Homes"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggle navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02"},r.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"}),r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.b,{className:"nav-link",to:"/"},"HOME ")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.b,{className:"nav-link",to:"/about"},"ABOUT ")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(E.b,{className:"nav-link",to:"/mybookings"},"MyBookings ")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",onClick:this.props.dealLogout},"LOGOUT ")))))}}]),t}(r.a.Component)),v=a(32),y=(a(47),a(26),a(27),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={randomCities:[{name:"Jaipur",id:"0"},{name:"Shimla",id:"1"},{name:"Pune",id:"2"},{name:"Manali",id:"3"},{name:"Banglore",id:"4"},{name:"Assam",id:"5"},{name:"Goa",id:"6"},{name:"Mumbai",id:"7"},{name:"Punjab",id:"8"},{name:"Chennai",id:"9"}],loaded:!1,report:"no"},e.onhandleClick=e.onhandleClick.bind(Object(h.a)(e)),e.onhandleBlur=e.onhandleBlur.bind(Object(h.a)(e)),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"onhandleBlur",value:function(e){var t=e.target.getAttribute("id");document.getElementsByClassName("drop-content")[t].style.display="none"}},{key:"onhandleItemClick",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("item clicked"),a=new Date,(n=new Date).setDate(a.getDate()+1),r=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),o=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate(),this.setState({report:"yes"}),e.next=9,this.props.getSecondResponse(t,r,o,1);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onhandleClick",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.setState({loaded:!1},console.log(this.state.loaded)),a=t.target.getAttribute("id"),n=document.getElementsByClassName("button")[a].innerHTML,r=document.getElementsByClassName("drop-content"),o=0;o<10;o++)o==a?"none"===r[a].style.display?r[a].style.display="block":r[a].style.display="none":r[o].style.display="none";if(console.log(n),"none"===r[a].style.display){e.next=10;break}return e.next=9,this.props.getResponse(n);case 9:this.setState({loaded:!0});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return"yes"===this.state.report?r.a.createElement(b.a,{to:"/cityhotels"}):r.a.createElement("div",{id:"city_dd"},r.a.createElement("div",{style:{height:"55px",width:"100%"}}),r.a.createElement("div",null,r.a.createElement("ul",{id:"cc_dd-ul"},this.state.randomCities.map((function(t,a){return r.a.createElement("li",null,r.a.createElement("div",{id:t.id,key:t.id},r.a.createElement("div",null,r.a.createElement("button",{onClick:function(t){e.onhandleClick(t)},className:"button",id:t.id},t.name),r.a.createElement("button",{onClick:function(t){e.onhandleClick(t)},className:"button2",id:t.id},r.a.createElement("img",{alt:"not found",className:"icon",height:"30px",width:"30px",id:t.id,src:"https://www.materialui.co/materialIcons/navigation/arrow_drop_down_white_192x192.png"}))),!0===e.state.loaded?r.a.createElement("div",{style:{display:"none"},className:"drop-content"},e.props.response.map((function(t){return r.a.createElement("a",Object(v.a)({key:t.dest_id,className:"dropdown-item",onClick:function(){e.onhandleItemClick(t.dest_id)}},"key",t.dest_id),t.name)}))):r.a.createElement("div",{style:{display:"none"},className:"drop-content"},r.a.createElement("p",null,"Loading..."))))})))))}}]),t}(r.a.Component)),k=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"carouselExampleIndicators",className:"carousel slide","data-ride":"carousel"},r.a.createElement("ol",{className:"carousel-indicators"},r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"0",className:"active"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}),r.a.createElement("li",{"data-target":"#carouselExampleIndicators","data-slide-to":"2"})),r.a.createElement("div",{className:"carousel-inner"},r.a.createElement("div",{className:"carousel-item active"},r.a.createElement("img",{className:"d-block w-100",src:"https://ehq-production-canada.imgix.net/projects/images/314c71594909a2c5729eccd37a3fd7a29948ba0d/000/008/283/original/MAT.jpg?auto=compress%2Cformat&w=1080",alt:"First slide"}),r.a.createElement("div",{className:"carousel-caption"},r.a.createElement("h1",null,"Feel Like Home"),r.a.createElement("p",null,"Enjoy Your Holidays with Infinitys"))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{className:"d-block w-100",src:"https://www.wallpaperfromthe70s.com/media/image/xschlafzimmer-1.jpg.pagespeed.ic.RoTI1mFXLF.jpg",alt:"Second slide"}),r.a.createElement("div",{className:"carousel-caption"},r.a.createElement("h1",null,"Best Stay Your Way"),r.a.createElement("p",null,"Spend Quality time full Comfort"))),r.a.createElement("div",{className:"carousel-item"},r.a.createElement("img",{className:"d-block w-100",src:"https://images.unsplash.com/photo-1522771739844-6a9f6d5f14af?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80",alt:"Third slide"}),r.a.createElement("div",{className:"carousel-caption"},r.a.createElement("h1",null,"Save Big. Travel Better"),r.a.createElement("p",null,"Latest Reviews, Lowest Prices")))),r.a.createElement("a",{className:"carousel-control-prev",href:"#carouselExampleIndicators",role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#carouselExampleIndicators",role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next")))}}]),t}(r.a.Component),j=(a(49),a(50),a(51),a(52),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={city:["Jaipur","Shimla","Pune","Manali","Banglore","Assam","Goa","Mumbai","Punjab"],recomms:[],side_recomms:[]},e.setHotel=e.setHotel.bind(Object(h.a)(e)),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,n,r,o,l,c=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Component is mounted"),t=this.state.city[Math.floor(Math.random()*this.state.city.length)],e.next=4,fetch("https://apidojo-booking-v1.p.rapidapi.com/locations/auto-complete?languagecode=en-us&text=".concat(t),{method:"GET",headers:{"x-rapidapi-host":"apidojo-booking-v1.p.rapidapi.com","x-rapidapi-key":"9f8ad6c750mshf0b1f680b88141ep1deb54jsndb7cd93136e0"}}).then((function(e){return e.json()})).then((function(e){console.log(JSON.stringify(e)),e=e.filter((function(e){return"hotel"===e.dest_type})),console.log("dest id ",e[0].dest_id),a=e[0].dest_id}));case 4:return n=new Date,(r=new Date).setDate(n.getDate()+1),o=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate(),l=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate(),console.log(o),console.log(l),e.next=13,fetch("https://apidojo-booking-v1.p.rapidapi.com/properties/list?order_by=popularity&languagecode=en-us&children_age=5%252C7&search_type=hotel&offset=0&dest_ids=".concat(a,"&guest_qty=1&arrival_date=").concat(o,"&departure_date=").concat(l,"&room_qty=1"),{method:"GET",headers:{"x-rapidapi-host":"apidojo-booking-v1.p.rapidapi.com","x-rapidapi-key":"9f8ad6c750mshf0b1f680b88141ep1deb54jsndb7cd93136e0"}}).then((function(e){return e.json()})).then((function(e){console.log("side data"),console.log(JSON.stringify(e));for(var t=[],a=[],n=0;n<3;n++)t[n]=e.result[n];for(var r=0;r<4;r++)a[r]=e.result[r];c.setState({side_recomms:t}),c.setState({recomms:a})})).catch((function(e){console.log(e)}));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setHotel",value:function(e){this.props.setHotelResp(e),console.log(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"adv"},r.a.createElement("div",{className:"container-fluid text-center"},r.a.createElement("h1",null," The Vacation Heaven  "),r.a.createElement(k,null)),r.a.createElement("div",{className:"container-fluid text-center"},r.a.createElement("div",{className:"row content"},r.a.createElement("div",{className:"col-sm-7 col-xs-12 text-left"},r.a.createElement("h1",null,"Welcome"),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."),r.a.createElement("hr",null),r.a.createElement("h2",null,"Recommended Infinity's For You"),r.a.createElement("div",{id:"recommends",className:"row text-center"},this.state.recomms.map((function(t,a){return r.a.createElement("div",{className:"col-sm-6 col-xs-12"},r.a.createElement("div",{className:"thumbnail"},r.a.createElement("img",{src:t.main_photo_url,alt:"Paris"}),r.a.createElement("p",null,r.a.createElement("strong",null,t.hotel_name)),r.a.createElement("button",{className:"btn"},r.a.createElement(E.b,{to:"/booknow",onClick:function(){return e.setHotel(t)}},"Book Now"))))})))),r.a.createElement("div",{className:"col-sm-5 col-xs-12 sidenav"},r.a.createElement("h2",null,"Infinity Hotels and Homes"),this.state.side_recomms.map((function(t){return r.a.createElement("div",{className:"side_recommends",key:t.hotel_id},r.a.createElement(E.b,{to:"/hoteldetails",onClick:function(){return e.setHotel(t)}},r.a.createElement("img",{id:"i1",src:t.main_photo_url})),r.a.createElement("h5",null,t.hotel_name," , ",t.district),r.a.createElement("p",null,t.address," "),r.a.createElement("div",{className:"hotel-label"},r.a.createElement("div",{className:"hl_left"}," Ratings: ",t.facilities_review_score.rating," "),r.a.createElement("div",{className:"hl_right"}," Cleanliness score : ",t.cleanliness_score," ")),r.a.createElement("hr",null))})),r.a.createElement("br",null)))),r.a.createElement("footer",{className:"container-fluid"},r.a.createElement("h3",null,"Infinity -- Fastest Growing Hotel Chain"),r.a.createElement("hr",{style:{backgroundColor:"white"}}),r.a.createElement("div",{id:"left-div"},r.a.createElement("p",null,r.a.createElement(E.b,{to:"/about"},"About Us")),r.a.createElement("p",null,r.a.createElement(E.b,{to:"/"},"Hotel and Homes"))),r.a.createElement("div",{id:"mid-div"},r.a.createElement("h4",null,"Contact Us"),r.a.createElement("a",{className:"btn btn-social-icon btn-twitter"},r.a.createElement("span",{className:"fa fa-envelope"},"    abc@gmail.com")),r.a.createElement("br",null),r.a.createElement("a",{className:"btn btn-social-icon btn-phone"},r.a.createElement("span",{className:"fa fa-phone"}," 9988XXXXXX"))),r.a.createElement("div",{id:"right-div"},r.a.createElement("h4",null,"Find Us"),r.a.createElement("a",{className:"btn btn-social-icon btn-twitter",href:"https://twitter.com/"},r.a.createElement("span",{className:"fa fa-twitter"})),r.a.createElement("a",{className:"btn btn-social-icon btn-twitter",href:"https://www.facebook.com/"},r.a.createElement("span",{className:"fa fa-facebook"})),r.a.createElement("a",{className:"btn btn-social-icon btn-twitter",href:"https://www.instagram.com/"},r.a.createElement("span",{className:"fa fa-instagram"})),r.a.createElement("br",null),r.a.createElement("br",null))))}}]),t}(r.a.Component)),w=a(33),O=a.n(w),N=(a(72),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginTop:"100px",width:"100%",height:"100",display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(O.a,{type:"ThreeDots",color:"#2BAD60",height:"100",width:"100"}))}}]),t}(n.Component)),R=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={arr:["Air conditioning","Shared Kitchen","24-hour front desk","Key card access","Shared lounge/TV area","Board games/Puzzles","Accessible parking","Airport drop-off (additional charge)"],priceRadio:"All",reviewRadio:"All"},e.orderSelection=e.orderSelection.bind(Object(h.a)(e)),e.priceChange=e.priceChange.bind(Object(h.a)(e)),e.reviewsChange=e.reviewsChange.bind(Object(h.a)(e)),e.setHotel=e.setHotel.bind(Object(h.a)(e)),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"orderSelection",value:function(e){console.log("called",e.target.value),this.props.orderFun(e.target.value),e.preventDefault()}},{key:"priceChange",value:function(e){this.setState({priceRadio:e.target.value}),console.log(e.target.value),this.props.handlePriceChange(e.target.value)}},{key:"reviewsChange",value:function(e){this.setState({reviewRadio:e.target.value}),console.log(e.target.value),this.props.handleReviewChange(e.target.value)}},{key:"setHotel",value:function(e){this.props.setHotelResp(e),console.log(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{id:"c_h",className:"container-fluid"},r.a.createElement(f,{dealLogout:this.props.dealLogout}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column left"},r.a.createElement("h3",{style:{marginTop:"20px"}},"Customise your Search"),r.a.createElement("hr",null),r.a.createElement("form",null,r.a.createElement("h4",null,"Price"),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",value:"All",onChange:this.priceChange,checked:"All"===this.state.priceRadio})," All Prices ",r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:"2000",onChange:this.priceChange,checked:"2000"===this.state.priceRadio})," below or equal to 2000 INR ",r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:"4000",onChange:this.priceChange,checked:"4000"===this.state.priceRadio})," between 2000 INR and 4000 INR ",r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:"6000",onChange:this.priceChange,checked:"6000"===this.state.priceRadio})," between 4000 INR and 6000 INR ",r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:"8000",onChange:this.priceChange,checked:"8000"===this.state.priceRadio})," between 6000 INR and 8000 INR ",r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:"10000",onChange:this.priceChange,checked:"10000"===this.state.priceRadio})," above 8000 INR ",r.a.createElement("br",null))),r.a.createElement("br",null),r.a.createElement("form",null,r.a.createElement("h4",null,"Ratings Reviews"),r.a.createElement("div",null,r.a.createElement("input",{type:"radio",value:"Good",onChange:this.reviewsChange,checked:"Good"===this.state.reviewRadio})," Good ",r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:"Very Good",onChange:this.reviewsChange,checked:"Very Good"===this.state.reviewRadio})," Very Good ",r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:"Excellent",onChange:this.reviewsChange,checked:"Excellent"===this.state.reviewRadio})," Excellent ",r.a.createElement("br",null),r.a.createElement("input",{type:"radio",value:"All",onChange:this.reviewsChange,checked:"All"===this.state.reviewRadio})," All ",r.a.createElement("br",null))),r.a.createElement("br",null)),r.a.createElement("div",{className:"column middle "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column middleheading"},0!==this.props.cityResponse.length?r.a.createElement("h3",null,"Infinitys in ",this.props.cityResponse[0].city):r.a.createElement("h3",null," ")),r.a.createElement("div",{className:"column leftdropdown"},"Sort By:",r.a.createElement("select",{id:"lang",onChange:this.orderSelection},r.a.createElement("option",{value:"popularity"},"Popularity"),r.a.createElement("option",{value:"name"},"Hotel Name"),r.a.createElement("option",{value:"ratings"},"Ratings"),r.a.createElement("option",{value:"price_ascending"},"Price(Low to High)"),r.a.createElement("option",{value:"price_descending"},"Price(High to Low)")))),0===this.props.cityResponse.length?r.a.createElement("h2",{style:{margin:"60px"},align:"center"}," No Results Found ... "):this.props.loading?r.a.createElement(N,null):this.props.cityResponse.map((function(t,a){return r.a.createElement("div",{className:"main_row"},r.a.createElement("hr",null),r.a.createElement("div",{className:"main_col"},r.a.createElement("img",{src:t.main_photo_url,alt:"not available"})),r.a.createElement("div",{className:"main_col"},r.a.createElement("h3",null,t.hotel_name),r.a.createElement("h6",null,"Near ",t.address,", ",t.city),r.a.createElement("p",null,"Ratings : ",t.facilities_review_score.rating," - ",t.facilities_review_score.rating_message),r.a.createElement("p",null,"Available rooms : ",t.available_rooms),r.a.createElement("h5",{style:{color:"red"}},"Price : ",t.min_total_price.toFixed(2)," INR "),r.a.createElement("div",{className:"main_row"},r.a.createElement("div",{style:{width:"50%",float:"left"}},r.a.createElement("button",{style:{backgroundColor:"white",color:"white",border:"1 px blue",fontSize:"20px"}},r.a.createElement(E.b,{to:"/hoteldetails",style:{color:"blue",textDecoration:"none"},onClick:function(){return e.setHotel(t)}},"View Details"))),r.a.createElement("div",{style:{width:"50%",float:"left"}},r.a.createElement("button",{style:{backgroundColor:"green",color:"white",border:"1 px green",fontSize:"20px"}},r.a.createElement(E.b,{to:"/booknow",style:{color:"white",textDecoration:"none"},onClick:function(){return e.setHotel(t)}},"Book Now"))))))})))))}}]),t}(r.a.Component),x=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={report:"no"},e.getResponse1=e.getResponse1.bind(Object(h.a)(e)),e.updatedate=e.updatedate.bind(Object(h.a)(e)),e.handleInvalid=e.handleInvalid.bind(Object(h.a)(e)),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"handleInvalid",value:function(e){"checkout"===e.target?e.target.setCustomValidity("Checkout Date must be greater than Checkin Date"):"rooms"===e.target&&e.target.setCustomValidity("no. of rooms must be in btw 1 to 3 ")}},{key:"updatedate",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("update date"),t=document.getElementById("checkin").value,document.getElementById("checkout").value="",document.getElementById("checkout").setAttribute("min",t),console.log(document.getElementById("checkout").getAttribute("min"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getResponse1",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=t.target.city.value,n=t.target.checkin.value,r=t.target.checkout.value,o=t.target.rooms.value,console.log(t.target.city.value),this.props.getResponse2(a,n,r,o),this.setState({report:"yes"});case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if("yes"===this.state.report)return r.a.createElement(b.a,{to:"/cityhotels"});var t=new Date,a=new Date;a.setDate(t.getDate()+1);var n=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),o=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();return console.log(n),console.log(o),r.a.createElement("div",{id:"search_div1"},r.a.createElement("h1",null,"Book Hotel Of Your Choice"),r.a.createElement("form",{id:"flex-container",onSubmit:function(t){return e.getResponse1(t)}},r.a.createElement("div",null,r.a.createElement("input",{type:"text",name:"city",placeholder:"City_name",maxLength:"12"}),r.a.createElement("h6",{align:"center"},"City")),r.a.createElement("div",null,r.a.createElement("input",{type:"date",name:"checkin",id:"checkin",onChange:this.updatedate,min:n}),r.a.createElement("h6",{align:"center"},"Checkin")),r.a.createElement("div",null,r.a.createElement("input",{type:"date",name:"checkout",id:"checkout",min:o,onInvalid:this.handleInvalid}),r.a.createElement("h6",{align:"center"},"Checkout")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",min:"1",max:"3",placeholder:"No. of rooms",name:"rooms",maxlength:"1"}),r.a.createElement("h6",{align:"center"},"Rooms")),r.a.createElement("input",{id:"submit",type:"submit",value:"search"})))}}]),t}(r.a.Component),C=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f,{dealLogout:this.props.dealLogout}),r.a.createElement("div",null,r.a.createElement(y,{getResponse:this.props.getResponse,response:this.props.response,getSecondResponse:this.props.getSecondResponse}),r.a.createElement(x,{getResponse2:this.props.getResponse2,cityResponse:this.props.cityResponse}),r.a.createElement(j,{setHotelResp:this.props.setHotelResp})))}}]),t}(r.a.Component),_=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={redirectToHome:!1,redirectToSignup:!1},e.dealLogin=e.dealLogin.bind(Object(h.a)(e)),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"dealLogin",value:function(e){var t=this;e.preventDefault(),console.log("adding");var a={username:e.target.username.value,password:e.target.password.value};fetch("http://localhost:8081/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(console.log(e),e.ok)return e.json();throw new Error})).then((function(e){t.props.dealSubmit(),t.setState({redirectToHome:!0})})).catch((function(e){alert("Bad Login Credentials"),console.error("Error adding user: ".concat(e))}))}},{key:"render",value:function(){return this.state.redirectToHome?r.a.createElement(b.a,{to:"/"}):r.a.createElement("div",{id:"login"},r.a.createElement("div",{id:"sideIntro"},r.a.createElement("p",{id:"p1"},"Welcome to ",r.a.createElement("span",{style:{color:"red"}},"Infinity")," Hotel and Homes"),r.a.createElement("p",{id:"p2"},r.a.createElement("ul",null,r.a.createElement("li",null,"The Most Trusted and Fastest Growing Hotel Booking Chain"),r.a.createElement("li",null,"Best Deals and special offers Available"),r.a.createElement("li",null,"All Variations Available")),r.a.createElement("p",{id:"p1",align:"right",style:{fontSize:"x-large"}},"HappY Booking !!! "))),r.a.createElement("form",{onSubmit:this.dealLogin},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Login"),"User Name:",r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"10 characters",maxLength:"10",name:"username",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),"Password:",r.a.createElement("br",null),r.a.createElement("input",{type:"password",placeholder:"10 characters",maxLength:"10",name:"password",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",id:"submit",value:"Log In"}),r.a.createElement("p",null,"Don't have an account ? ",r.a.createElement(E.b,{to:"/signup",style:{color:"red"}},"Sign Up")," "))))}}]),t}(r.a.Component),S=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={redirectToLogin:!1},e.addUser=e.addUser.bind(Object(h.a)(e)),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"addUser",value:function(e){var t=this;e.preventDefault(),console.log("adding");var a={firstname:e.target.firstname.value,lastname:e.target.lastname.value,username:e.target.username.value,password:e.target.password.value,mobile:e.target.mobile.value};fetch("http://localhost:8081/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){if(e.ok)return e.json();throw new Error})).then((function(e){alert("Account created Successfully "),t.setState({redirectToLogin:!0})})).catch((function(e){alert("Error creating User"),console.error("Error adding user: ".concat(e))}))}},{key:"render",value:function(){return this.state.redirectToLogin?r.a.createElement(b.a,{to:"/login"}):r.a.createElement("div",{id:"signup"},r.a.createElement("div",{id:"sideIntro"},r.a.createElement("p",{id:"p1"},"Welcome to ",r.a.createElement("span",{style:{color:"red"}},"Infinity")," Hotel and Homes"),r.a.createElement("p",{id:"p2"},r.a.createElement("ul",null,r.a.createElement("li",null,"The Most Trusted and Fastest Growing Hotel Booking Chain"),r.a.createElement("li",null,"Best Deals and special offers Available"),r.a.createElement("li",null,"All Variations Available")),r.a.createElement("p",{id:"p1",align:"right",style:{fontSize:"x-large"}},"HappY Booking !!! "))),r.a.createElement("form",{onSubmit:this.addUser},r.a.createElement("fieldset",null,r.a.createElement("legend",null,"Create Your Account"),"FirstName:",r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"Not more than 8 characters",name:"firstname",maxlength:"8",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),"LastName:",r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"Not more than 8 characters",name:"lastname",maxlength:"8",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),"User Name:",r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"Not more than 10 characters",name:"username",maxlength:"10",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),"Password:",r.a.createElement("br",null),r.a.createElement("input",{type:"password",placeholder:"Not more than 10 characters",name:"password",maxlength:"10",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),"Mobile:",r.a.createElement("br",null),r.a.createElement("input",{type:"tel",placeholder:"Valid 10 digit number only",name:"mobile",maxlength:"10",pattern:"[789][0-9]{9}"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",name:"submit",value:"Sign Up",id:"submit"}),r.a.createElement("p",null,"Already have an account ? ",r.a.createElement(E.b,{to:"/login",style:{color:"red"}},"Login In")," "))))}}]),t}(r.a.Component),T=(a(73),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={checkin:"",checkout:"",rooms:"",guest:"",submitted:!1},e.handleContinue=e.handleContinue.bind(Object(h.a)(e)),e.updatedate=e.updatedate.bind(Object(h.a)(e)),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"handleContinue",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.setState({checkin:t.target.checkin.value,checkout:t.target.checkout.value,rooms:t.target.rooms.value,guest:t.target.guest.value});case 3:return e.next=5,this.props.confirm(this.props.hotelResp.min_total_price*this.state.rooms,this.state.rooms,this.state.checkin,this.state.checkout);case 5:this.setState({submitted:!0});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updatedate",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("update date"),t=document.getElementById("checkin").value,document.getElementById("checkout").value="",document.getElementById("checkout").setAttribute("min",t),console.log(document.getElementById("checkout").getAttribute("min"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){console.log("confirmation rendered");var e=new Date,t=new Date;t.setDate(e.getDate()+1);var a=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate(),n=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();return console.log(a),console.log(n),!0===this.state.submitted?r.a.createElement(b.a,{to:"/confirmhotel"}):r.a.createElement("div",{className:"booking"},r.a.createElement(f,{dealLogout:this.props.dealLogout}),r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleContinue},r.a.createElement("h4",null,this.props.hotelResp.hotel_name),r.a.createElement("h6",null,"Near ",this.props.hotelResp.address,", ",this.props.hotelResp.city),r.a.createElement("p",null,"Ratings : ",this.props.hotelResp.facilities_review_score.rating," - ",this.props.hotelResp.facilities_review_score.rating_message),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-25"},r.a.createElement("label",{for:"checkin"},"Checkin")),r.a.createElement("div",{className:"col-75"},r.a.createElement("input",{type:"date",name:"checkin",id:"checkin",min:a,onChange:this.updatedate,required:!0}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-25"},r.a.createElement("label",{for:"checkout"},"Checkout")),r.a.createElement("div",{className:"col-75"},r.a.createElement("input",{type:"date",name:"checkout",id:"checkout",min:n,required:!0}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-25"},r.a.createElement("label",{for:"guest"},"Guest Count")),r.a.createElement("div",{className:"col-75"},r.a.createElement("input",{type:"number",name:"guest",min:"1",max:"10"}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-25"},r.a.createElement("label",{for:"rooms"},"Rooms Count")),r.a.createElement("div",{className:"col-75"},r.a.createElement("input",{type:"number",name:"rooms",min:"1",max:this.props.hotelResp.available_rooms,required:!0}))),r.a.createElement("input",{type:"submit",value:"Click here"})," to continue booking...")))}}]),t}(r.a.Component)),L=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={descrip:"",facilities:[],reviews:[],map:""},e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.hotelResp.hotel_id),fetch("https://apidojo-booking-v1.p.rapidapi.com/properties/get-description?hotel_ids=".concat(this.props.hotelResp.hotel_id),{method:"GET",headers:{"x-rapidapi-host":"apidojo-booking-v1.p.rapidapi.com","x-rapidapi-key":"9f8ad6c750mshf0b1f680b88141ep1deb54jsndb7cd93136e0"}}).then((function(e){return e.json()})).then((function(t){console.log(JSON.stringify(t)),e.setState({descrip:t[1].description})})).catch((function(e){console.log(e)})),fetch("https://apidojo-booking-v1.p.rapidapi.com/properties/get-facilities?languagecode=en-us&hotel_ids=".concat(this.props.hotelResp.hotel_id),{method:"GET",headers:{"x-rapidapi-host":"apidojo-booking-v1.p.rapidapi.com","x-rapidapi-key":"9f8ad6c750mshf0b1f680b88141ep1deb54jsndb7cd93136e0"}}).then((function(e){return e.json()})).then((function(t){console.log(JSON.stringify(t));for(var a=[],n=0;n<3;n++)a[n]=t[n].facilitytype_name;e.setState({facilities:a})})).catch((function(e){console.log(e)})),fetch("https://apidojo-booking-v1.p.rapidapi.com/properties/get-featured-reviews?languagecode=en-us&hotel_id=".concat(this.props.hotelResp.hotel_id),{method:"GET",headers:{"x-rapidapi-host":"apidojo-booking-v1.p.rapidapi.com","x-rapidapi-key":"9f8ad6c750mshf0b1f680b88141ep1deb54jsndb7cd93136e0"}}).then((function(e){return e.json()})).then((function(t){console.log(JSON.stringify(t));for(var a=[],n=0;n<2;n++)a[n]=t.vpm_featured_reviews[n].pros;e.setState({reviews:a})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(f,{dealLogout:this.props.dealLogout}),r.a.createElement("div",{id:"h_d"},r.a.createElement("div",{className:"leftDiv"},r.a.createElement("h2",null,"About Hotel "),r.a.createElement("img",{src:this.props.hotelResp.main_photo_url}),r.a.createElement("p",null,this.state.descrip),r.a.createElement("h2",null,"Amenties"),this.state.facilities.map((function(e,t){return r.a.createElement("div",{key:t},"->",e)})),r.a.createElement("br",null),r.a.createElement("h2",null,"Reviews"),this.state.reviews.map((function(e,t){return r.a.createElement("div",{key:t},"->",e)}))),r.a.createElement("div",{className:"rightDiv"},r.a.createElement(T,{hotelResp:this.props.hotelResp,confirm:function(t){return e.props.confirm(t)}}))))}}]),t}(r.a.Component),H=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={redirectToHome:!1},e.handleClick=e.handleClick.bind(Object(h.a)(e)),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"handleClick",value:function(){this.setState({redirectToHome:!0})}},{key:"render",value:function(){return this.state.redirectToHome?r.a.createElement(b.a,{to:"/"}):r.a.createElement("div",{style:{marginTop:"100px",textAlign:"center"}},r.a.createElement("h1",null,"404",r.a.createElement("br",null),"Sorry, Page Not Found"),r.a.createElement("button",{onClick:this.handleClick,style:{color:"steelblue"}},"Go Back"))}}]),t}(r.a.Component),I=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"about"},r.a.createElement(f,{dealLogout:this.props.dealLogout}),r.a.createElement("div",{className:"inAbout"},r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome to Infinitys"),r.a.createElement("p",null,"We are your partner to find best hotels for You"))),r.a.createElement("div",{className:"inAboutSearch"},r.a.createElement(x,{getResponse2:this.props.getResponse2,cityResponse:this.props.cityResponse}),r.a.createElement("h2",null,"Your Perfect Stay just One Click away")))}}]),t}(r.a.Component),A=(a(74),a(34)),D=a.n(A);a(80);a(81).config();var B=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={redirectToThankyou:!1},e.handleToken=e.handleToken.bind(Object(h.a)(e)),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"handleToken",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={hotelname:this.props.hotelResp.hotel_name,rooms:this.props.rooms,checkin:this.props.checkin,checkout:this.props.checkout},e.next=3,fetch("http://localhost:8081/bookings/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:n=e.sent,console.log(n),n.ok?this.setState({redirectToThankyou:!0}):alert("Error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return!0===this.state.redirectToThankyou?r.a.createElement(b.a,{to:"/thankyou"}):r.a.createElement("div",{className:"confirmBooking"},r.a.createElement(f,{dealLogout:this.props.dealLogout}),r.a.createElement("div",{className:"outsideContainer"},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("label",{align:"center"},"Booking Details")),r.a.createElement("div",{className:"insideContainer"},r.a.createElement("h4",null,this.props.hotelResp.hotel_name),r.a.createElement("h5",null,"Near ",this.props.hotelResp.address,", ",this.props.hotelResp.city),r.a.createElement("p",null,"Ratings : ",this.props.hotelResp.facilities_review_score.rating," - ",this.props.hotelResp.facilities_review_score.rating_message),r.a.createElement("p",null,"Rooms Booked : ",this.props.rooms),r.a.createElement("p",null,"Dated : ",this.props.checkin," to ",this.props.checkout),r.a.createElement("h4",{style:{color:"red"}},"Total Amount : ",this.props.prc.toFixed(2)," INR"),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(D.a,{stripeKey:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_STRIPE_API_KEY,token:this.handleToken,amount:100*this.props.prc.toFixed(2),currency:"inr",name:"INFINITY HOTELS",description:"Make Your Payment",label:"Make Payment"})))))}}]),t}(n.Component),P=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={redirectToHome:!1},e.dealClick=e.dealClick.bind(Object(h.a)(e)),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"dealClick",value:function(){this.setState({redirectToHome:!0})}},{key:"render",value:function(){return this.state.redirectToHome?r.a.createElement(b.a,{to:"/"}):r.a.createElement("div",{id:"thankyou"},r.a.createElement(f,{dealLogout:this.props.dealLogout}),r.a.createElement("div",{id:"intro"},r.a.createElement("div",{className:"intro-textbox"},r.a.createElement("img",{src:"https://yachtpon.com/wp-content/uploads/2019/03/5a142d709c.png",className:"intro-icon"}),r.a.createElement("div",{className:"intro-text"},r.a.createElement("p",null,"Booking Successfull!!! ",r.a.createElement("br",null),"Thankyou:)"),r.a.createElement("button",{onClick:this.dealClick},"ok")))))}}]),t}(r.a.Component),F=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={booking_history:[]},e.fetchBookings=e.fetchBookings.bind(Object(h.a)(e)),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"fetchBookings",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:8081/bookings",{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({booking_history:a}),n=JSON.stringify(a),console.log(a),console.log(n);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchBookings()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f,{dealLogout:this.props.dealLogout}),this.state.booking_history.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("ul",null,r.a.createElement("li",null,"Hotel Name: ",e.hotelname),r.a.createElement("li",null,"Hotel Rooms: ",e.rooms),r.a.createElement("li",null,"Checkin: ",e.checkin),r.a.createElement("li",null,"Checkout: ",e.checkout)),r.a.createElement("hr",null))})))}}]),t}(r.a.Component),M=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(d.a)(this,Object(p.a)(t).call(this))).state={isAuth:!1,response:[],cityResponse:JSON.parse(localStorage.getItem("cityResponse"))||[],loading:!1,orderBy:"popularity",city:"",checkin:"",checkout:"",rooms:1,hotelName:"",hotelResp:{},overallPrice:"",overallRooms:""},e.getResponse=e.getResponse.bind(Object(h.a)(e)),e.getResponse2=e.getResponse2.bind(Object(h.a)(e)),e.orderFun=e.orderFun.bind(Object(h.a)(e)),e.getSecondResponse=e.getSecondResponse.bind(Object(h.a)(e)),e.dealSubmit=e.dealSubmit.bind(Object(h.a)(e)),e.dealLogout=e.dealLogout.bind(Object(h.a)(e)),e.handlePriceChange=e.handlePriceChange.bind(Object(h.a)(e)),e.handleReviewChange=e.handleReviewChange.bind(Object(h.a)(e)),e.setHotelName=e.setHotelName.bind(Object(h.a)(e)),e.setHotelResp=e.setHotelResp.bind(Object(h.a)(e)),e.confirm=e.confirm.bind(Object(h.a)(e)),e}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8081/users/checkUser",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){console.log(t),t.ok?e.setState({isAuth:!0}):!0===e.state.isAuth&&e.setState({isAuth:!1})})).catch((function(t){alert("not auth"),e.setState({redirectToSignup:!0}),console.error("Error adding user: ".concat(t))}))}},{key:"getResponse",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,r,o,l=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Date,(n=new Date).setDate(a.getDate()+1),r=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),o=n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate(),e.next=7,fetch("https://apidojo-booking-v1.p.rapidapi.com/locations/auto-complete?languagecode=en-us&text=".concat(t),{method:"GET",headers:{"x-rapidapi-host":"apidojo-booking-v1.p.rapidapi.com","x-rapidapi-key":"9f8ad6c750mshf0b1f680b88141ep1deb54jsndb7cd93136e0"}}).then(function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then(function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(JSON.stringify(t)),t=t.filter((function(e){return"hotel"===e.dest_type})),l.setState({response:t,checkin:r,checkout:o});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSecondResponse",value:function(){var e=Object(s.a)(i.a.mark((function e(t,a,n,r){var o,l,c,s,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Second res"),this.setState({loading:!0}),e.prev=2,e.next=5,fetch("https://apidojo-booking-v1.p.rapidapi.com/properties/list?languagecode=en-us&search_type=hotel&offset=0&dest_ids=".concat(t,"&guest_qty=1&order_by=").concat(this.state.orderBy,"&arrival_date=").concat(a,"&departure_date=").concat(n,"&room_qty=").concat(r),{method:"GET",headers:{"x-rapidapi-host":"apidojo-booking-v1.p.rapidapi.com","x-rapidapi-key":"9f8ad6c750mshf0b1f680b88141ep1deb54jsndb7cd93136e0"}});case 5:if((o=e.sent).ok){e.next=8;break}throw Error("error fetching data");case 8:return e.next=10,o.json();case 10:for(l=e.sent,console.log(JSON.stringify(l)),c=[],s=0,u=0;s<=5;)0===l.result[u].min_total_price?console.log(l.result[u].min_total_price):(c[s]=l.result[u],s++),u++;console.log(c),this.setState({cityResponse:c,loading:!1}),localStorage.setItem("cityResponse",JSON.stringify(this.state.cityResponse)),console.log("city response is ",this.state.cityResponse[0]),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),console.log(e.t0);case 24:case"end":return e.stop()}}),e,this,[[2,21]])})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"orderFun",value:function(e){var t=this.state.cityResponse;"price_ascending"===e&&t.sort((function(e,t){return e.min_total_price-t.min_total_price})),"price_descending"===e&&(t.sort((function(e,t){return e.min_total_price-t.min_total_price})),t.reverse()),"name"===e&&t.sort((function(e,t){var a=e.hotel_name.toLowerCase(),n=t.hotel_name.toLowerCase();return a<n?-1:a>n?1:0})),"ratings"===e&&t.sort((function(e,t){return e.facilities_review_score.rating-t.facilities_review_score.rating})),"popularity"===e&&(t=JSON.parse(localStorage.getItem("cityResponse"))),this.setState({cityResponse:t})}},{key:"getResponse2",value:function(){var e=Object(s.a)(i.a.mark((function e(t,a,n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,this.getResponse(t);case 3:return e.next=5,this.getSecondResponse(this.state.response[0].dest_id,a,n,r);case 5:this.setState({city:t,checkin:a,checkout:n,rooms:r});case 6:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"dealSubmit",value:function(){this.setState({isAuth:!0})}},{key:"dealLogout",value:function(){var e=this;fetch("http://localhost:8081/users/logout",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){t.ok&&e.setState({isAuth:!1})})).catch((function(e){alert("error")}))}},{key:"handlePriceChange",value:function(e){var t=parseInt(e),a=JSON.parse(localStorage.getItem("cityResponse"));console.log(t,a),a="All"===e?JSON.parse(localStorage.getItem("cityResponse")):1e4===t?a.filter((function(e){return e.min_total_price>=t})):a.filter((function(e){return e.min_total_price>=t-2e3&&e.min_total_price<=t})),console.log(a),this.setState({cityResponse:a})}},{key:"handleReviewChange",value:function(e){var t=JSON.parse(localStorage.getItem("cityResponse"));t="All"===e?JSON.parse(localStorage.getItem("cityResponse")):t.filter((function(t){return t.facilities_review_score.rating_message===e})),this.setState({cityResponse:t})}},{key:"setHotelName",value:function(e){this.setState({hotelName:e})}},{key:"setHotelResp",value:function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({hotelResp:t});case 2:console.log(this.state.hotelResp.hotel_name);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"confirm",value:function(){var e=Object(s.a)(i.a.mark((function e(t,a,n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({overallPrice:t,overallRooms:a,checkin:n,checkout:r});case 2:console.log(this.state.overallPrice);case 3:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return console.log("rendered",this.state.isAuth),r.a.createElement(E.a,null,r.a.createElement("div",null,r.a.createElement(b.d,null,r.a.createElement(b.b,{exact:!0,path:"/",render:function(){return e.state.isAuth?r.a.createElement(C,{setHotelResp:e.setHotelResp,getResponse:e.getResponse,response:e.state.response,getResponse2:e.getResponse2,cityResponse:e.state.cityResponse,getSecondResponse:e.getSecondResponse,dealLogout:e.dealLogout}):r.a.createElement(b.a,{to:"/login"})}}),r.a.createElement(b.b,{exact:!0,path:"/about",render:function(){return r.a.createElement(I,{dealLogout:e.dealLogout,getResponse2:e.getResponse2,cityResponse:e.cityResponse})}}),r.a.createElement(b.b,{exact:!0,path:"/cityhotels",render:function(){return e.state.isAuth?r.a.createElement(R,{setHotelResp:e.setHotelResp,setHotel:e.setHotelName,cityResponse:e.state.cityResponse,orderFun:e.orderFun,loading:e.state.loading,handlePriceChange:e.handlePriceChange,handleReviewChange:e.handleReviewChange,dealLogout:e.dealLogout}):r.a.createElement(b.a,{to:"/"})}}),r.a.createElement(b.b,{exact:!0,path:"/hoteldetails",render:function(){return e.state.isAuth?r.a.createElement(L,{confirm:e.confirm,hotelResp:e.state.hotelResp,dealLogout:e.dealLogout}):r.a.createElement(b.a,{to:"/"})}}),r.a.createElement(b.b,{exact:!0,path:"/signup",render:function(){return e.state.isAuth?r.a.createElement(b.a,{to:"/"}):r.a.createElement(S,null)}}),r.a.createElement(b.b,{exact:!0,path:"/login",render:function(){return e.state.isAuth?r.a.createElement(b.a,{to:"/"}):r.a.createElement(_,{dealSubmit:e.dealSubmit})}}),r.a.createElement(b.b,{exact:!0,path:"/booknow",render:function(){return e.state.isAuth?r.a.createElement(T,{confirm:e.confirm,hotelResp:e.state.hotelResp,checkin:e.state.checkin,checkout:e.state.checkout,rooms:e.state.rooms,hotelName:e.state.hotelName,dealLogout:e.dealLogout}):r.a.createElement(b.a,{to:"/"})}}),r.a.createElement(b.b,{exact:!0,path:"/confirmhotel",render:function(){return e.state.isAuth?r.a.createElement(B,{hotelResp:e.state.hotelResp,prc:e.state.overallPrice,rooms:e.state.overallRooms,dealLogout:e.dealLogout,checkin:e.state.checkin,checkout:e.state.checkout}):r.a.createElement(b.a,{to:"/"})}}),r.a.createElement(b.b,{exact:!0,path:"/thankyou",render:function(){return r.a.createElement(P,{dealLogout:e.dealLogout})}}),r.a.createElement(b.b,{exact:!0,path:"/mybookings",render:function(){return r.a.createElement(F,{dealLogout:e.dealLogout})}}),r.a.createElement(b.b,{render:function(){return r.a.createElement(H,null)}}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.18255c73.chunk.js.map